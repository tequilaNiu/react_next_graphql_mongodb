{"version":3,"file":"4.9eff4a4f44acec165d4c.hot-update.js","sources":["webpack:///pages/post.js"],"sourcesContent":["import Layout from '../components/MyLayout.js'\nimport axios from 'axios';\n\nexport default class Post extends React.Component {\n  static async getInitialProps({query}) {\n    console.log('>>>>>>>>>>>>>');\n    // const res = await axios('https://api.tvmaze.com/search/shows?q=batman')\n    // const data = res.data\n\n    // const res = await axios('http://localhost:3000/getUser');\n\n    console.log('Show data fetched. Count: 1')\n\n    return {\n      index: 1,\n    }\n  }\n\n  myClick = () => {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = 'json';\n    xhr.open(\"POST\", \"/api/getUser\");\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.setRequestHeader(\"Accept\", \"application/json\");\n    xhr.onload = function () {\n      console.log('data returned:', xhr.response);\n      this.setState({\n        userName: xhr.response.data.name\n      })\n    }\n    xhr.send(JSON.stringify({query: \"{ name }\"}));\n    // axios.post(`/api/getUser`, {\n    //   query: JSON.stringify({name})\n    // }).then(function(res) {\n    //   console.log('res back');\n    // })\n  }\n\n  render() {\n    return (\n      <Layout>\n        <h1>{this.props.url.query.id}</h1>\n        <p>This is the blog post content.</p>\n        <p>计数器： {this.props.index}</p>\n        <button onClick={this.myClick}>点我</button>{this.state.userName}\n      </Layout>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// pages/post.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;;;;;;;;AA3CA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AADA;AACA;;;;;;;;;;;;;;;;AAXA;AACA;AADA;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}